<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="http://Princeton-LSI-ResearchComputing.github.io/tracebase/Upload/Errors%20and%20Warnings%20Reference/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Errors and Warnings Reference - TraceBase Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Errors and Warnings Reference";
        var mkdocs_page_input_path = "Upload/Errors and Warnings Reference.md";
        var mkdocs_page_url = "/tracebase/Upload/Errors%20and%20Warnings%20Reference/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> TraceBase Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">TraceBase</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/How%20TraceBase%20Handles%20Data/">How TraceBase Handles Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/Navigating%20TraceBase/">Navigating TraceBase</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/Team/">Team</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/TraceBase%20Design/">TraceBase Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/Under%20the%20Hood/">Under the Hood</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Analysis</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Analysis/How%20to%20analyze%20data%20downloaded%20from%20TraceBase/">How do I analyze data downloaded from TraceBase?</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Download</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Download/How%20to%20Download/">How to Download</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">About the Data</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Download/About%20the%20Data/Format%20of%20Downloaded%20Data/">Format of Downloaded Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Data Types</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../Download/About%20the%20Data/Data%20Types/FCirc/">FCirc</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Download/About%20the%20Data/Data%20Types/PeakData/">PeakData</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Download/About%20the%20Data/Data%20Types/PeakGroups/">PeakGroups</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Upload</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Errors and Warnings Reference</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#how-to-use-this-exception-lookup-reference">How to Use this Exception Lookup Reference</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#animalwithoutsamples-animalswithoutsamples">AnimalWithoutSamples (AnimalsWithoutSamples)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#animalwithoutserumsamples-animalswithoutserumsamples">AnimalWithoutSerumSamples (AnimalsWithoutSerumSamples)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#assumedmzxmlsamplematch-assumedmzxmlsamplematches">AssumedMzxmlSampleMatch (AssumedMzxmlSampleMatches)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#compounddoesnotexist">CompoundDoesNotExist</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#compoundexistsasmismatchedsynonym">CompoundExistsAsMismatchedSynonym</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#conflictingvalueerror-conflictingvalueerrors">ConflictingValueError (ConflictingValueErrors)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#dateparseerror">DateParseError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#defaultsequencenotfound">DefaultSequenceNotFound</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#duplicatecompoundisotopes">DuplicateCompoundIsotopes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#duplicateheaders">DuplicateHeaders</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#duplicatepeakannotationfilename">DuplicatePeakAnnotationFileName</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#duplicatepeakgroupresolutions">DuplicatePeakGroupResolutions</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#duplicatevalues-duplicatevalueerrors">DuplicateValues (DuplicateValueErrors)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#durationerror">DurationError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#emptycolumns">EmptyColumns</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#excelsheetnotfound">ExcelSheetNotFound</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#filefrominputnotfound">FileFromInputNotFound</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#infiledatabaseerror">InfileDatabaseError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#infusateparsingerror">InfusateParsingError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#invalidheaders">InvalidHeaders</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#invalidmsrunname">InvalidMSRunName</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#invalidpeakannotationfileformat">InvalidPeakAnnotationFileFormat</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#isotopeparsingerror">IsotopeParsingError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#isotopestringdupe">IsotopeStringDupe</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingc12parentpeak-missingc12parentpeaks">MissingC12ParentPeak (MissingC12ParentPeaks)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingcompounds-allmissingcompounds">MissingCompounds (AllMissingCompounds)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingdataadded">MissingDataAdded</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingfcirccalculationvalue-missingfcirccalculationvalues">MissingFCircCalculationValue (MissingFCircCalculationValues)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingsamples-allmissingsamples">MissingSamples (AllMissingSamples)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingstudies-allmissingstudies">MissingStudies (AllMissingStudies)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingtissues-allmissingtissues">MissingTissues (AllMissingTissues)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#missingtreatments-allmissingtreatments">MissingTreatments (AllMissingTreatments)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mixedpolarityerrors">MixedPolarityErrors</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multiplepeakannotationfileformats">MultiplePeakAnnotationFileFormats</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multiplepeakgrouprepresentation-multiplepeakgrouprepresentations-allmultiplepeakgrouprepresentations">MultiplePeakGroupRepresentation (MultiplePeakGroupRepresentations, AllMultiplePeakGroupRepresentations)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multiplerecordsreturned">MultipleRecordsReturned</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multiplestudydocversions">MultipleStudyDocVersions</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mzxmlskiprowerror-allmzxmlskiprowerrors-allmzxmlskiprowerrors">MzXMLSkipRowError (AllMzXMLSkipRowErrors, AllMzXMLSkipRowErrors)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mzxmlcolocatedwithmultipleannot">MzxmlColocatedWithMultipleAnnot</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mzxmlnotcolocatedwithannot">MzxmlNotColocatedWithAnnot</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mzxmlparseerror">MzxmlParseError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mzxmlsampleheadermismatch">MzxmlSampleHeaderMismatch</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mzxmlsequenceunknown-allmzxmlsequenceunknown">MzxmlSequenceUnknown (AllMzxmlSequenceUnknown)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#newresearcher-newresearchers-allnewresearchers">NewResearcher (NewResearchers, AllNewResearchers)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nosamples">NoSamples</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#noscans-allnoscans">NoScans (AllNoScans)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#notracerlabeledelements-notracerlabeledelementserror">NoTracerLabeledElements (NoTracerLabeledElementsError)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#notracers">NoTracers</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#observedisotopeparsingerror">ObservedIsotopeParsingError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#observedisotopeunbalancederror">ObservedIsotopeUnbalancedError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#possibleduplicatesample-possibleduplicatesamples">PossibleDuplicateSample (PossibleDuplicateSamples)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#prohibitedcompoundname-prohibitedcompoundnames">ProhibitedCompoundName (ProhibitedCompoundNames)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#recorddoesnotexist">RecordDoesNotExist</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#replacingpeakgrouprepresentation">ReplacingPeakGroupRepresentation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#requiredcolumnvalue-requiredcolumnvalues">RequiredColumnValue (RequiredColumnValues)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#requiredheaderserror">RequiredHeadersError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#requiredvalueerror-requiredvalueerrors">RequiredValueError (RequiredValueErrors)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#synonymexistsasmismatchedcompound">SynonymExistsAsMismatchedCompound</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tracercompoundnameinconsistent">TracerCompoundNameInconsistent</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tracergroupsinconsistent">TracerGroupsInconsistent</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tracerparsingerror">TracerParsingError</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unexpectedinput">UnexpectedInput</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unexpectedlabel-unexpectedlabels-allunexpectedlabels">UnexpectedLabel (UnexpectedLabels, AllUnexpectedLabels)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unexpectedsamples">UnexpectedSamples</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unknownheader">UnknownHeader</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unknownheaders">UnknownHeaders</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unknownpeakannotationfileformat">UnknownPeakAnnotationFileFormat</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unknownstudydocversion">UnknownStudyDocVersion</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unmatchedblankmzxml-unmatchedblankmzxmls">UnmatchedBlankMzXML (UnmatchedBlankMzXMLs)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unskippedblanks">UnskippedBlanks</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#about-this-document">About This Document</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../How%20to%20Name%20Your%20Studies%2C%20Animals%2C%20and%20Samples/">How to Name Your Studies, Animals, and Samples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../How%20to%20Upload%20Data%20to%20TraceBase/">How to Upload Data to TraceBase</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Uploading%20FAQ/">Uploading FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../What%20Inputs%20Does%20TraceBase%20Take/">What Inputs Does TraceBase Take</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">How to Build a Submission</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../How%20to%20Build%20a%20Submission/1%20-%20How%20to%20Start%20an%20Upload/">How to Start an Upload</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../How%20to%20Build%20a%20Submission/2%20-%20How%20to%20Fill%20In%20the%20Study%20Doc/">How to Fill In the Study Doc</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../How%20to%20Build%20a%20Submission/3%20-%20How%20to%20Validate%20a%20Study%20Doc/">How to Validate a Study Doc</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../How%20to%20Build%20a%20Submission/4%20-%20How%20to%20Submit%20Data/">How to Submit Data</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Values</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Calculated%20Values%20Glossary/">Calculated Values Glossary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Corrected%20Abundance/">Corrected Abundance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Enrichment%20Abundance/">Enrichment Abundance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Enrichment%20Example/">Enrichment Example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Enrichment%20Fraction/">Enrichment Fraction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/FCirc%20Rates/">FCirc Rates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Fraction/">Fraction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Normalized%20Labeling/">Normalized Labeling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Values/Total%20Abundance/">Total Abundance</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">TraceBase Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Upload</li>
      <li class="breadcrumb-item active">Errors and Warnings Reference</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="errors-and-warnings-reference">Errors and Warnings Reference</h1>
<p>The process of building a Study Submission happens on The Upload page.  The Upload page has 2 tabs where you can
encounter errors and/or warnings about your study submission: the <strong>Start</strong> and <strong>Validate</strong> tabs.  This documentation
is intended to serve as a reference to help researchers figure out how to address any errors or warnings (collectively:
<em>exceptions</em>) that can arise during the study submission building process.</p>
<p>The TraceBase submission interface was built with researchers in mind, to empower users to be able to fix their data on
their own, thereby speeding up the curation and loading process.  It also is intended to give users a sense of ownership
over their own data.</p>
<p>Not every possible exception you can encounter is here. If you see an exception that is not listed here, leave it for
the curator to solve and proceed with your upload.</p>
<h2 id="how-to-use-this-exception-lookup-reference">How to Use this Exception Lookup Reference</h2>
<p>If a custom exception listed here is encountered and its language is difficult to understand or more context is needed,
look up the exception's name on this page to get hints on what the exception means, the context surrounding it, and
potentially, a more in depth suggestion on how to fix the issues in the submission that lead to the error.  If you have
any suggestions on improving the wording in any exception you encounter in the submission process, please share feedback
using the <strong>Feedback</strong> link at the top of the page where you encountered it.</p>
<p>It is important to note that if you discover an overlooked peak annotation file, it should be submitted on the <strong>Start</strong>
page with all other peak annotation files.  That is the only way to identify some issues and it auto-fills multiple
sheets with the data it extracts.  The best strategy to save work already done up to that point (until the ability to
add an existing stay doc on the start page for updating has been added), is to copy it over to a newly generated study
doc template.</p>
<h2 id="exceptions">Exceptions</h2>
<h3 id="animalwithoutsamples-animalswithoutsamples"><code>AnimalWithoutSamples</code> (<code>AnimalsWithoutSamples</code>)</h3>
<p>An animal was detected without any samples associated with it in the <code>Samples</code> sheet.</p>
<p>If the animal has samples in the <code>Samples</code> sheet, it is likely that the load of every sample associated with the
animal encountered a separate error.  Fixing those errors will resolve this warning.</p>
<p>If however, there are no samples associated with the animal in the <code>Samples</code> sheet, it is likely that one or more
peak annotation files associated with the animal was omitted when generating the Study Doc on the Upload <strong>Start</strong>
page.  In this case, to address the issue, it is recommended that you generate a new Study Doc from <strong>all</strong> peak
annotation files combined and copy over all of your work from the current file, being careful to account for new
ordered samples rows and all auto-filled sheets, like Peak Annotation File/Details and Compounds.</p>
<p>This is recommended for a number of reasons that are covered elsewhere in the TraceBase documentation, but to
summarize, the Upload <strong>Start</strong> page performs checks that are not performed elsewhere to find conflicting issues
between peak annotation files, and it fills in all inter-sheet references (including hidden sheets and columns and
peak group conflicts) that are laborious and error-prone to attempt manually.</p>
<p>You may alternatively elect to add the forgotten peak annotation files in a separate submission after the current
data has been loaded.  You may keep the animal records and ignore this warning.  The subsequent submission should
include the complete animal record and associated study record.</p>
<h3 id="animalwithoutserumsamples-animalswithoutserumsamples"><code>AnimalWithoutSerumSamples</code> (<code>AnimalsWithoutSerumSamples</code>)</h3>
<p>An animal with a tracer infusion was detected without any serum samples associated with it in the <code>Samples</code>
sheet.</p>
<p>Serum samples are necessary in order for TraceBase to report FCirc calculations.</p>
<p>If the animal has serum samples in the <code>Samples</code> sheet, it is possible that the load of every serum sample
associated with the animal encountered a separate error.  Fixing those errors will resolve this warning.</p>
<p>If however, there are no serum samples associated with the animal in the <code>Samples</code> sheet, it is possible that a
peak annotation file associated with the animal was omitted when generating the Study Doc on the Upload <strong>Start</strong>
page.  In this case, to address the issue, it is recommended that you generate a new Study Doc from <strong>all</strong> peak
annotation files combined and copy over all of your work from the current file, being careful to account for new
ordered samples rows and all auto-filled sheets, like Peak Annotation File/Details and Compounds.</p>
<p>This is recommended for a number of reasons that are covered elsewhere in the TraceBase documentation, but to
summarize, the Upload <strong>Start</strong> page performs checks that are not performed elsewhere to find conflicting issues
between peak annotation files, and it fills in all inter-sheet references (including hidden sheets and columns and
peak group conflicts) that are laborious and error-prone to attempt manually.</p>
<p>You may alternatively elect to add the forgotten peak annotation files in a separate submission after the current
data has been loaded.  You may keep the animal records and ignore this warning.  The subsequent submission should
include the complete animal record and associated study record.</p>
<h3 id="assumedmzxmlsamplematch-assumedmzxmlsamplematches"><code>AssumedMzxmlSampleMatch</code> (<code>AssumedMzxmlSampleMatches</code>)</h3>
<p>The sample name embedded in the mzXML filename uniquely but imperfectly matches.</p>
<p>This exception is only ever raised as a warning.  Some peak abundance correction tools have certain character
restrictions applied to sample headers.  Some such restrictions are:</p>
<ul>
<li>Sample names cannot start with a number</li>
<li>No dashes (<code>-</code>) allowed</li>
<li>Length limits</li>
</ul>
<p>Those restritions are not the same as those of the mass spec instrument software or the tools that generate the
mzXML files from RAW files.  To get around those restrictions when they are encountered, the sample headers are
often modified, but the mzXML filenames remain the original value.</p>
<p>The loading code accommodates these peculiarities in order to be able to dynamically match the mzXML files with the
corresponding peak annotation file sample header.  This warning serves to simply be transparent about the
association being automatically made, in order to catch any potential authentic mismatches.</p>
<p>In every known case, this warning can be safely ignored.</p>
<h3 id="compounddoesnotexist"><code>CompoundDoesNotExist</code></h3>
<p>The compound from the input file does not exist as either a primary compound name or synonym.</p>
<p>There are 2 possible resolutions to this exception.  Both involve updates to the <code>Compounds</code> sheet.</p>
<ul>
<li>Add the name as a synonym to an existing matching compound record.</li>
<li>Add a new row to the <code>Compounds</code> sheet.</li>
</ul>
<p>In either case, if no matching compound exists in the <code>Compounds</code> sheet of the Study Doc, be sure to check TraceBase’s
Compounds page for a matching compound record (missing the current name as a synonym).  The Upload <strong>Start</strong> page which
generates the Study Doc populates the sheet with existing compounds from TraceBase whose formulas exactly match the
formula obtained from the peak annotation file(s).  But the formula derived from a peak annotation file may represent an
ionized version of the compound record in TraceBase and thus, may not have been auto-added^, which is why the TraceBase
site should be consulted.</p>
<p>^ <em>Note that pre-populating the <code>Compounds</code> sheet with ionization variants is a proposed feature.</em>
<em>See GitHub issue <a href="https://github.com/Princeton-LSI-ResearchComputing/tracebase/issues/1195">#1195</a>.</em></p>
<h3 id="compoundexistsasmismatchedsynonym"><code>CompoundExistsAsMismatchedSynonym</code></h3>
<p>A compound row was added to the Compounds sheet whose name exists as a synonym of another compound.</p>
<p>This exception can arise automatically in the downloaded study doc template all on its own.  TraceBase tries to add rows
in the Compounds sheet for both compounds that already exist in TraceBase and novel compounds that do not yet exist in
TraceBase.  However, the compound name and formula must both match.  When they do not match, a new row for a novel
compound is added to the sheet, whether or not it creates a conflict.  Such a conflict can arise due to the formula
(derived from the peak annotation file) representing the ionized state of the compound, e.g. with 1 less or 1 more
proton (H).</p>
<p>A researcher can also cause this exception if they were to assign an HMDB ID that is already assigned to another
compound existing in TraceBase.  This can often happen after fixing the issue described above caused by an ionized
formula, because TraceBase did not pre-fill the existing compound due to the formula difference.</p>
<p>Lastly, this issue can arise if the conflicting compound record simply has a synonym associated with a compound record
that is just wrong.</p>
<p>To resolve this issue, either merge the compound records (editing them to fix the formula) or remove the synonym from
the differing compound record so that peak groups (and tracers) are associated with the other compound record.</p>
<p>If the compound from the peak annotation file(s) differs from the existing TraceBase compound record (e.g. different
formula or HMDB ID), and the new record represents a distinctly different compound, reach out to the curators.  The
existing compound synonym may already be associated with a different compound in other studies, so either changes would
need to be made to those other studies or the new study would need to be edited to distinguish the different compounds.
Either way, a curator will need to coordinate the fix to ensure database-wide consistency.</p>
<h3 id="conflictingvalueerror-conflictingvalueerrors"><code>ConflictingValueError</code> (<code>ConflictingValueErrors</code>)</h3>
<p>A conflicting value was encountered between previously loaded data and data being loaded from an input file.</p>
<p>The loading code does not currently support database model record updates, but it does support <strong>adding</strong> data to an
existing (and previously loaded) input file.  Some of those additions can <strong>look</strong> like updates.  Values on a
previously loaded row in delimited columns like the <code>Synonyms</code> column in the <code>Compounds</code> sheet, can receive
additional delimited values without error.</p>
<p>But when values in a column (outside of columns containing delimited values) change in a file that has been
previously loaded, you will get a <code>ConflictingValueError</code> exception.</p>
<p>Note that formatted columns (e.g. an infusate name) may use delimiters, but are not treated as delimited columns.</p>
<h3 id="dateparseerror"><code>DateParseError</code></h3>
<p>Unable to parse date string.  Date string not in the expected format.</p>
<p>To resolve this exception, reformat the date using the format reported in the error.</p>
<h3 id="defaultsequencenotfound"><code>DefaultSequenceNotFound</code></h3>
<p>An MS Run Sequence record, expected to exist in the database, could not be found.</p>
<p>Note that each sheet in the study doc is loaded independently, but the order in which they are loaded matters.  For
example, the <code>Sequences</code> sheet must be loaded before the <code>Peak Annotation Files</code> sheet.  If there was an error when
loading any rows on the <code>Sequences</code> sheet, this error would be encountered when attempting to find that sequence
that was just loaded.</p>
<p>Alternatively, this exception could have arisen because a <code>Sequences</code> sheet row was edited and values in the
<code>Default Sequence</code> column in the <code>Peak Annotation Files</code> sheet (or other linking column) was not similarly updated
and became unlinked.</p>
<p>To resolve this exception, either the previous error must be fixed, or the <code>Default Sequence</code> column’s value in the
<code>Peak Annotation Files</code> sheet must be updated to match a row in the <code>Sequence Name</code> column in the <code>Sequences</code> sheet.</p>
<h3 id="duplicatecompoundisotopes"><code>DuplicateCompoundIsotopes</code></h3>
<p>Summary of <code>DuplicateValues</code> exceptions specific to the peak annotation files.  It does not report the affected
samples because all such errors always affect all samples, as peak annotation files typically have a column for each
sample and a row for each compound’s isotopic state.</p>
<p>This error occurs when a compound’s unique isotopic makeup appears in multiple rows.</p>
<h3 id="duplicateheaders"><code>DuplicateHeaders</code></h3>
<p>Duplicate headers encountered in the input file.</p>
<p>No duplicate headers are allowed.</p>
<h3 id="duplicatepeakannotationfilename"><code>DuplicatePeakAnnotationFileName</code></h3>
<p>Multiple peak annotation files appear to have the same name.</p>
<p>This exception is raised as an error on the Upload <strong>Start</strong> page only.</p>
<p>To resolve this issue, either resubmit the files to exclude a truly duplicate file or rename one or both of the
files to make their names unique.</p>
<p>TraceBase requires that peak annotation filenames be globally unique to avoid ambiguities when sharing or
referencing data files.</p>
<h3 id="duplicatepeakgroupresolutions"><code>DuplicatePeakGroupResolutions</code></h3>
<p>A row in the <code>Peak Group Conflicts</code> sheet is duplicated, and may contain conflicting resolutions.</p>
<p>A row in the <code>Peak Group Conflicts</code> sheet is a duplicate if it contains the same (case insensitive) compound synonym
(or <code>/</code>-delimited synonyms in any order) and the same^ samples.</p>
<p>Refer to the documentation of the <code>MultiplePeakGroupRepresentation</code> exception for an explanation of multiple peak
group representations and the <code>Peak Group Conflicts</code> sheet’s involvement in resolving them.</p>
<p>This exception is a warning when the resolution is the same on each row, but an error if the resolution (i.e. the
selected representation - the peak annotation file) is different on each row.</p>
<p>^ <em>The <strong>same</strong> samples means <strong>all</strong> samples.  There is assumed to be no partial overlap between sample sets for</em>
<em>the same compounds because the automated construction of this file separates them programmatically, so be</em>
<em>careful editing the <code>Peak Group Conflicts</code> sheet, to make sure you do not introduce partial sample overlap</em>
<em>between rows.</em></p>
<h3 id="duplicatevalues-duplicatevalueerrors"><code>DuplicateValues</code> (<code>DuplicateValueErrors</code>)</h3>
<p>A duplicate value (or value combination) was found in an input file column (or columns) that requires unique
values (or a unique combination of values with 1 or more other columns).</p>
<p>Fixing this issue typically involves either deleting a duplicate row or editing the duplicate to make it unique.</p>
<h3 id="durationerror"><code>DurationError</code></h3>
<p>Invalid time duration value.  Must be a number.</p>
<p>To resolve this exception, edit the value to only be a number (no units symbol).</p>
<h3 id="emptycolumns"><code>EmptyColumns</code></h3>
<p>The data import encountered empty columns that were expected to have data.</p>
<p>If there are sample columns present and all expected samples are accounted for, this will be a warning.  If any of
the expected sample columns are missing, this will be an error.</p>
<p>In the warning case, this issue usually occurs when columns in Excel have been removed (or some unknown file
manipulation has occurred).  Whatever the case may be, the excel reader package that the loading code uses treats
these empty columns as populated and names them with an arbitrary column header that starts with ‘Unnamed: ‘.</p>
<p>In the error case, no sample headers were found.  The file either contains no sample data and should be either
repaired or excluded from loading, meaning that it will need to be removed from the <code>Peak Annotation Details</code> and
<code>Peak Annotation Files</code> sheets.</p>
<h3 id="excelsheetnotfound"><code>ExcelSheetNotFound</code></h3>
<p>Expected Excel file sheet not found.  Ensure the correct file was supplied.</p>
<h3 id="filefrominputnotfound"><code>FileFromInputNotFound</code></h3>
<p>A report of filenames obtained from an input file that could not be found.</p>
<h3 id="infiledatabaseerror"><code>InfileDatabaseError</code></h3>
<p>An unexpected internal database error has been encountered when trying to load specific input from an input file.</p>
<p>Exceptions like these are often hard to interpret, but the error was caught so that metadata about the related input
could be provided, such as the file, sheet, row, and column values that were being loaded when the exception
occurred.  However, the cause could be hard to determine if it is related to previously loaded data that did not
report an error.</p>
<p>If the cause of the error is not easily discernible, feel free to leave it for a curator to figure out.</p>
<p>These exceptions, when they occur on a somewhat regular basis, are figured out and the work in figuring out the
cause and likely solution is saved in a custom exception class to make them easier to fix when they crop up again.</p>
<h3 id="infusateparsingerror"><code>InfusateParsingError</code></h3>
<p>An error was encountered when reading (parsing) your Infusate.  The format or completeness of the infusate name must be
manually corrected.  Consult formatting guidelines in the Study Doc Infusate column header's comment.</p>
<h3 id="invalidheaders"><code>InvalidHeaders</code></h3>
<p>Unexpected headers encountered in the input file.</p>
<p>No unexpected headers are allowed.</p>
<h3 id="invalidmsrunname"><code>InvalidMSRunName</code></h3>
<p>Unable to parse Sequence Name.  Must be 4 comma-delimited values of <code>Operator</code>, <code>LC Protocol</code>, <code>Instrument</code>, and
<code>Date</code>.</p>
<h3 id="invalidpeakannotationfileformat"><code>InvalidPeakAnnotationFileFormat</code></h3>
<p>The peak annotation file format code is either unrecognized, or doesn’t appear to match the auto-detected format
of the supplied file.</p>
<p>This exception is raised as an error on the Upload <strong>Start</strong> page only.</p>
<p>To resolve this issue, select the format code using the dropdown menus in the <code>File Format</code> column of the
<code>Peak Annotation Files</code> sheet in the Study Doc that corresponds to the reported file.</p>
<p>Note that this error is more likely to occur when supplying CSV or TSV versions of peak annotation files.  Automatic
format determination is based on the Excel sheet and/or column names, and there is a lot of overlap in the column
names of the different formats.</p>
<h3 id="isotopeparsingerror"><code>IsotopeParsingError</code></h3>
<p>A regular expression or other parsing error was encountered when parsing an Isotope string.  The formatting or
completeness of the string must be manually fixed.  Consult formatting guidelines (check the file’s header
comment).</p>
<h3 id="isotopestringdupe"><code>IsotopeStringDupe</code></h3>
<p>The formatted isotope string matches the same labeled element more than once.</p>
<p>Strings defining isotopes are formatted with multiple element symbols paired with mass numbers concatenated
together, followed by their dash-delimited counts in the same relative order.  This error occurs when that isotope
string matches the same element multiple times.</p>
<p>Unfortunately, the only way to address this error would be to edit the peak annotation file to eliminate the
duplicate.</p>
<p>Example:
<code>C13N15C13-label-2-1-1</code> would match <code>C13</code> twice, resulting in this error.</p>
<h3 id="missingc12parentpeak-missingc12parentpeaks"><code>MissingC12ParentPeak</code> (<code>MissingC12ParentPeaks</code>)</h3>
<p>No C12 PARENT row was found for this compound in the peak annotation file.</p>
<p>This exception occurs (as a warning) in 2 cases:</p>
<ul>
<li>The C12 PARENT peak exists, but was not picked in El-Maven.  In this case, the best solution is to redo the peak annotation file starting from re-picked peaks from El-Maven that include the parent peak.  Alternatively, the peak annotation file could be edited to remove all of that compound’s peaks and a subsequent file could be loaded using the complete peak group.</li>
<li>The C12 PARENT peak was below the detection threshold.  In this case, the warning can be ignored and a 0-count will be assumed.</li>
</ul>
<h3 id="missingcompounds-allmissingcompounds"><code>MissingCompounds</code> (<code>AllMissingCompounds</code>)</h3>
<p>Summary of compounds expected to exist in the database that were not found, while loading a single input file.</p>
<h3 id="missingdataadded"><code>MissingDataAdded</code></h3>
<p>Different sheets in the Study Doc reference other sheets.  When a user enters data in one of those referential columns
without using the supplied drop-down menu, the interface autofills the entered value into the related sheet, and reports
this warning to transparently let the user know when repairs have occurred.</p>
<p>Examples:</p>
<ul>
<li>
<p>Novel animal treatment:</p>
<p>A novel animal treatment is entered into the <code>Treatment</code> column of the <code>Animals</code> sheet in the Study Doc, but
not into the <code>Treatments</code> sheet.  The TraceBase Upload <strong>Validate</strong> page will autofill the new treatment
name in a new row added to the <code>Treatments</code> sheet of the Study Doc.</p>
</li>
<li>
<p>Novel tissue:</p>
<p>A novel tissue is entered into the <code>Tissue</code> column of the <code>Samples</code> sheet in the Study Doc, but not into the
<code>Tissues</code> sheet.  The TraceBase Upload <strong>Validate</strong> page will autofill the new tissue name in a new row
added to the <code>Tissues</code> sheet of the Study Doc.</p>
</li>
</ul>
<p>This warning is an indicator that there is new data to potentially fill in in the mentioned sheet.</p>
<h3 id="missingfcirccalculationvalue-missingfcirccalculationvalues"><code>MissingFCircCalculationValue</code> (<code>MissingFCircCalculationValues</code>)</h3>
<p>A value, while not required, but necessary for (accurate) FCirc calculations, is missing.</p>
<p>TraceBase does not require values for some database model fields because it supports animals that have not been
infused with tracers, but when an animal does have a tracer infusion, certain values are necessary to accurately
compute FCirc.  If any of those values have not been filled in, and the animal has an infusate, you will see this
exception as a warning.</p>
<p>While your data can be loaded without these values, it is highly recommended that all such values be supplied in
order to show FCirc records with calculated values and without associated errors or warnings.</p>
<h3 id="missingsamples-allmissingsamples"><code>MissingSamples</code> (<code>AllMissingSamples</code>)</h3>
<p>Summary of samples expected to exist in the database that were not found, while loading a single input file.</p>
<h3 id="missingstudies-allmissingstudies"><code>MissingStudies</code> (<code>AllMissingStudies</code>)</h3>
<p>Summary of studies expected to exist in the database that were not found, while loading a single input file.</p>
<h3 id="missingtissues-allmissingtissues"><code>MissingTissues</code> (<code>AllMissingTissues</code>)</h3>
<p>Summary of tissues expected to exist in the database that were not found, while loading a single input file.</p>
<h3 id="missingtreatments-allmissingtreatments"><code>MissingTreatments</code> (<code>AllMissingTreatments</code>)</h3>
<p>Summary of treatments expected to exist in the database that were not found, while loading a single input
file.</p>
<h3 id="mixedpolarityerrors"><code>MixedPolarityErrors</code></h3>
<p>A mix of positive and negative polarities were found in an mzXML file.</p>
<p>TraceBase does not support mixed polarity mzXML files.</p>
<h3 id="multiplepeakannotationfileformats"><code>MultiplePeakAnnotationFileFormats</code></h3>
<p>The peak annotation file format could not be uniquely determined.</p>
<p>This exception is raised as an error on the Upload <strong>Start</strong> page only.</p>
<p>To resolve this issue, select the format code using the dropdown menus in the <code>File Format</code> column of the
<code>Peak Annotation Files</code> sheet in the Study Doc that corresponds to the reported file.</p>
<p>Note that this error is more likely to occur when supplying CSV or TSV versions of peak annotation files.  Automatic
format determination is based on the Excel sheet and/or column names, and there is a lot of overlap in the column
names of the different formats.</p>
<h3 id="multiplepeakgrouprepresentation-multiplepeakgrouprepresentations-allmultiplepeakgrouprepresentations"><code>MultiplePeakGroupRepresentation</code> (<code>MultiplePeakGroupRepresentations</code>, <code>AllMultiplePeakGroupRepresentations</code>)</h3>
<p>A peak group for a measured compound was picked multiple times and abundance corrected for 1 or more samples.</p>
<p>TraceBase requires that the single best representation of a peak group compound be loaded for any one sample.</p>
<p>Certain compounds can show up in both positive and negative scans, or in abutting scan ranges of the same polarity.
While neither representation may be perfect, this simple requirement prevents inaccuracies or mistakes when using
the data from TraceBase.</p>
<p>Be wary however that your compound names in your peak annotation files are consistently named, because different
synonyms are not detected as multiple peak group representations.  This was a design decision to support succinct
compound records while also supporting stereo-isomers.  (Note: This distinction may go away in a future version of
TraceBase, where synonyms are treated as the same compound in the context of peak groups.)</p>
<p>Multiple peak group representations are only detected and reported on the Upload <strong>Start</strong> page, when the peak
annotation files have their compounds and samples extracted.  The multiple representations are recorded in an
otherwise hidden sheet in the Study Doc named <code>Peak Group Conflicts</code>.</p>
<p>For every row in the conflicts sheet, a peak annotation file drop-down is supplied to pick the file from which the
peak group should be loaded.  The same peak group compound from the other file(s) will be skipped.</p>
<p>If you forgot a peak annotation file when generating your study doc template, start over with a complete generated
Study Doc in order to catch these issues.  But note, previously loaded Peak Group records are included in the
detection of multiple representations, so alternatively, you may choose to add forgotten peak annotation files in a
separate submission, keeping in mind that if you select the new peak annotation file as the peak group
representation to load, the old previously loaded peak group will be deleted.</p>
<p>Note that while manual editing of this sheet is discouraged, you can manually edit it as long as you preserve the
hidden column.  There is a hidden sample column containing delimited sample names.  This column is required to
accurately update all multiple representations.</p>
<h3 id="multiplerecordsreturned"><code>MultipleRecordsReturned</code></h3>
<p>The record search was expected to match exactly 1 record, but multiple records were found.</p>
<p>This issue can arise for various reasons, but usually are related to conflicting sample naming conventions in the MS
instrument that produces the RAW (and by implication, the mzXML) filenames, the abundance correction software that
produces the peak annotation files (e.g. AccuCor), and TraceBase’s unique biological sample naming constraints
related to scan labels.</p>
<p>TraceBase’s attempts to map differing sample names in differing contexts to a single biological Sample record can
yield this exception in one case when there exists a biological sample duplicate in the Study Doc’s <code>Samples</code> sheet.
This can happen due to the retention of scan labels in sample names when populating that sheet.  So one possible
resolution may be to merge duplicate sample records in the <code>Samples</code> sheet that happen to be different scans of the
same biological sample.</p>
<p>Another possibility could be misidentified “scan labels” that for example do not refer to polarity that were
manually fixed, but which cause issues when trying to map mzXML filenames or peak annotation file sample headers to
those Sample records.</p>
<p>Each issue should be handled on a case-by-case basis.</p>
<h3 id="multiplestudydocversions"><code>MultipleStudyDocVersions</code></h3>
<p>The study doc version could not be automatically narrowed down to a single matching version.</p>
<p>This exception is accompanied by version determination metadata intended to highlight the supplied versus expected
sheet and column names.  Note however, that the only column names that will be reported as missing are required
columns.  Missing optional columns may be reported as “unknown”.</p>
<p>TraceBase is backward compatible with older versions of the Study Doc and the Upload <strong>Validate</strong> page automatically
detects the version based on sheet and column names.</p>
<p>This exception could arise if various sheets have been removed, leaving sheets whose required column names do not
differ between versions.  There is currently no fix for this issue on the Upload <strong>Validate</strong> page and validation
must happen on the command-line where a version number can be supplied.  In this case, it is recommended that you
skip validation and if you think the data is complete, move on to the <strong>Submit</strong> step.</p>
<h3 id="mzxmlskiprowerror-allmzxmlskiprowerrors-allmzxmlskiprowerrors"><code>MzXMLSkipRowError</code> (<code>AllMzXMLSkipRowErrors</code>, <code>AllMzXMLSkipRowErrors</code>)</h3>
<p>Could not determine which mzXML file loads to skip.</p>
<p>When the mzXML file paths are not supplied and the number of mzXML files of the same name exceed number of skipped
sample data headers in the peak annotation files (i.e. some of the same-named files are to be loaded and others are
to be skipped), it may be impossible to tell which ones are which.</p>
<p>The loading code can infer which are which if the files are divided into directories with their peak annotation
files in which they were used, but if that cannot be figured out, this error will be raised.</p>
<p>This can be resolved either by accounting for all mzXML files in the <code>Peak Annotation Details</code> sheet with their
paths or by organizing the mzXML files with the peak annotation files they were used to produce.</p>
<h3 id="mzxmlcolocatedwithmultipleannot"><code>MzxmlColocatedWithMultipleAnnot</code></h3>
<p>mzXML files are in a directory that has multiple peak annotation files somewhere along its path.</p>
<p>This exception has to do with determining which MS Run <code>Sequence</code> produced the mzXML file, which is dynamically
determined when there are multiple sequences containing the same sample names.</p>
<!-- textlint-disable terminology -->
<p>mzXML files are assigned an MS Run Sequence based on either the value in the <code>Sequence</code> column in the
<code>Peak Annotation Details</code> sheet or (if that’s empty), the <code>Default Sequence</code> defined in the <code>Peak Annotation Files</code>
sheet and the <code>Peak Annotation File Name</code> column in the <code>Peak Annotation Details</code> sheet.</p>
<!-- textlint-enable terminology -->

<p>If the default is used, this exception is a warning.  However, if there is no default and no <code>Sequence</code> in the
<code>Peak Annotation Details</code> sheet’s <code>Sequence</code> column, the association is inferred by the directory structure.  By
travelling up the path from the mzXML file to the study directory, the first peak annotation file encountered is the
one that is associated with the mzXML file.  The simplest case is when the mzXML file is in the same directory as a
single peak annotation file.</p>
<p>The loading code only raises this as an error when the mzXML filename matches headers in multiple peak annotation
files from different sequences and the specific one in which it was used was not explicitly assigned and it could
not be inferred from the directory structure.</p>
<p>The easiest fix is to put peak annotation files in a directory along with only the mzXML files that were used in its
production.  The more laborious (but more versatile) solution is to add the file path of every mzXML reported in the
error to the <code>Peak Annotation Details</code> sheet along with the <code>Sequence</code>.</p>
<h3 id="mzxmlnotcolocatedwithannot"><code>MzxmlNotColocatedWithAnnot</code></h3>
<p>mzXML files are not in a directory under an unambiguously associated peak annotation file in which they were
used.</p>
<p>This exception has to do with determining which MS Run <code>Sequence</code> produced the mzXML file, which is dynamically
determined when there are multiple sequences containing the same sample names.</p>
<!-- textlint-disable terminology -->
<p>mzXML files are assigned an MS Run Sequence based on either the value in the <code>Sequence</code> column in the
<code>Peak Annotation Details</code> sheet or (if that’s empty), the <code>Default Sequence</code> defined in the <code>Peak Annotation Files</code>
sheet and the <code>Peak Annotation File Name</code> column in the <code>Peak Annotation Details</code> sheet.</p>
<!-- textlint-enable terminology -->

<p>If the default is used, this exception is a warning.  However, if there is no default and no <code>Sequence</code> in the
<code>Peak Annotation Details</code> sheet’s <code>Sequence</code> column, the association is inferred by the directory structure.  By
travelling up the path from the mzXML file to the study directory, the first peak annotation file encountered is the
one that is associated with the mzXML file.  The simplest case is when the mzXML file is in the same directory as a
single peak annotation file.</p>
<p>The loading code only raises this as an error when the mzXML filename matches headers in multiple peak annotation
files from different sequences and the specific one in which it was used was not explicitly assigned and it could
not be inferred from the directory structure.</p>
<p>The easiest fix is to put peak annotation files in a directory along with only the mzXML files that were used in its
production.  The more laborious (but more versatile) solution is to add the file path of every mzXML reported in the
error to the <code>Peak Annotation Details</code> sheet along with the <code>Sequence</code>.</p>
<h3 id="mzxmlparseerror"><code>MzxmlParseError</code></h3>
<p>The structure of the mzXML file is not as expected.  An expected XML element or element attribute was not found.</p>
<p>This could be due to an mzXML version change or a malformed or truncated file.</p>
<p>TraceBase supports mzXML version 3.2.</p>
<h3 id="mzxmlsampleheadermismatch"><code>MzxmlSampleHeaderMismatch</code></h3>
<p>The mzXML filename does not match the sample header in the peak annotation file.</p>
<!-- textlint-disable terminology -->
<p>This situation can arise either if the filename has been (knowingly) manually modified or when the <code>mzXML File Name</code>
entered into the <code>Peak Annotation Details</code> sheet was mistakenly associated with the wrong <code>Sample Data Header</code>.</p>
<!-- textlint-enable terminology -->

<p>This exception is only ever raised as a warning and is not inspected by curators, so confirm the association and
either make a correction or ignore, if the association is correct.</p>
<h3 id="mzxmlsequenceunknown-allmzxmlsequenceunknown"><code>MzxmlSequenceUnknown</code> (<code>AllMzxmlSequenceUnknown</code>)</h3>
<p>Unable to reliably match an mzXML file with an MSRunSequence.</p>
<p>This exception is raised as a warning when the number of mzXML files with the same name are not all accounted for in
the <code>Peak Annotation Details</code> sheet of the Study Doc.  I.e. there are more mzXML files than peak annotation files with
sample headers of this name.</p>
<p>There are a number of ways this can happen:
- The extra files are empty (and are reported in <code>NoScans</code> warnings).
- A peak annotation file for the extras has not been included in the load.
- The sample was re-analyzed in a subsequence MS Run because there was a problem with the first run.
- There are 2 different biological samples with the same name and one is not included in the current submission.</p>
<p>The first case is handled automatically and can be safely ignored.  In fact, if it is any other case, an error would
be raised after this warning, so in any case, this can be ignored, but if subsequent error does occur, this warning
provides information that can help figure out the problem.</p>
<p>In all of the other cases, there are 2 ways to resolve the warning:</p>
<!-- textlint-disable terminology -->
<ul>
<li>Add rows to the <code>Peak Annotation Details</code> sheet that account for all the files (adding ‘skip’ to the <code>Skip</code> column for any files that should be ignored).  This is the preferred solution.</li>
<li>Add the relative path from the study folder to the specific mzXML file in the existing <code>mzXML File Name</code> column (not including the study folder name).</li>
</ul>
<p>Despite the ‘required columns’ highlighted in blue indicating that ‘Sample Name’ and ‘Sample Data Header’ are
required, when there is no associated peak annotation file, the <code>mzXML File Name</code>, <code>Sequence</code>, and <code>Skip</code> columns
are all that’s required.  This is a special case.</p>
<p>If all of the files are for the same MS Run, nothing further is needed.  But if they are from different MS Runs, the
<code>mzXML File Name</code> column must contain the relative path from the study folder to the mzXML file (not including the
study folder name).</p>
<!-- textlint-enable terminology -->

<h3 id="newresearcher-newresearchers-allnewresearchers"><code>NewResearcher</code> (<code>NewResearchers</code>, <code>AllNewResearchers</code>)</h3>
<p>When an as-yet unencountered researcher name is encountered, this exception is raised as a warning to ensure it
is not a spelling variant of an existing researcher name.</p>
<h3 id="nosamples"><code>NoSamples</code></h3>
<p>None of the samples in the indicated file, required to exist in the database, were found.</p>
<p>Each sheet in an excel file is loaded independently and the loads proceed in the order of those dependencies.</p>
<p>Errors like this usually only happen when related dependent data failed to load (due to some other error) and is
evidenced by the fact that the indicated columns/rows have values.  Fixing errors that appear above this will fix
this error.</p>
<p>For example, an Animal record must be loaded and exist in the database before a Sample record (which links to an
Animal record) can be loaded.  If the loading of the Animal record encountered an error, anytime a Sample record
that links to that animal is loaded, this error will occur.</p>
<p>The loading code tries to avoid these “redundant” errors, but it also tries to gather as many errors as possible to
reduce repeated validate/edit iterations.</p>
<h3 id="noscans-allnoscans"><code>NoScans</code> (<code>AllNoScans</code>)</h3>
<p>An mzXML file was encountered that contains no scan data.</p>
<p>This exception is raised as a warning and can be safely ignored.  Empty mzXML files are produced as a side-effect of
the way they are produced.  Such files could be excluded from a study submission, but are hard to distinguish
without looking inside the same-named files.  It is recommended that the files be left as-is.</p>
<h3 id="notracerlabeledelements-notracerlabeledelementserror"><code>NoTracerLabeledElements</code> (<code>NoTracerLabeledElementsError</code>)</h3>
<p>A compound in a peak annotation file was encountered that does not contain any of the labeled elements from any
of the tracers.</p>
<p>The purpose of a peak group (which the loading code populates) is to group a compound’s peaks that result from
various isotopic states (the incorporation of labeled elements from the tracer compounds).  If the formula of the
measured compound does not contain any of the elements that are labeled in the tracers, this suggests a potential
problem, such as the animal’s infusate from the <code>Animals</code> sheet was incorrectly selected or omits a tracer with labels
that are in this compound.</p>
<p>Resolutions to this issue can involve either updating the associated animal’s infusate/tracers to include a tracer
with the labeled elements it shares with this compound or simply ignoring this warning noting that the compound will
not be loaded as a peak group.^</p>
<p>^ <em>TraceBase was not designed to support non-isotopic mass spectrometry data.  Adding support for non-isotopic</em>
<em>data is a planned feature.  See GitHub issue</em>
<em><a href="https://github.com/Princeton-LSI-ResearchComputing/tracebase/issues/1192">#1192</a>.</em></p>
<h3 id="notracers"><code>NoTracers</code></h3>
<p>An operation that requires an animal to have been infused with tracers encountered an animal that was not infused
with tracers, such as FCirc calculations.</p>
<p>This error occurs when an animal is associated with an infusate record, but that infusate is not linked to any
tracers.  This is likely because an error occurred during infusate/tracer loading and arises when validating a serum
sample.</p>
<h3 id="observedisotopeparsingerror"><code>ObservedIsotopeParsingError</code></h3>
<p>A regular expression or other parsing error was encountered when parsing an Isotope observation string.  The
formatting or completeness of the string must be manually fixed.  Consult formatting guidelines (check the file’s
header comment).</p>
<h3 id="observedisotopeunbalancederror"><code>ObservedIsotopeUnbalancedError</code></h3>
<p>The number of elements, mass numbers, and counts parsed from the isotope string differ.  A single (fully labeled)
isotope must include each value in the order of mass number, element symbol, and count.  E.g. <code>13C5</code> means that
there are 5 heavy carbons of mass number 13 in a compound.</p>
<p>Examples:</p>
<ul>
<li><code>13C</code> would cause this error because there is no count.</li>
<li><code>C5</code> would cause this error because there is no mass number.</li>
<li><code>135</code> would cause this error because there is no element and there’s no way to tell where the count begins.</li>
</ul>
<h3 id="possibleduplicatesample-possibleduplicatesamples"><code>PossibleDuplicateSample</code> (<code>PossibleDuplicateSamples</code>)</h3>
<p>Multiple peak annotation files have an identical sample header, but are associated with distinctly different
TraceBase biological Sample records.</p>
<p>This exception is always raised as a warning as a check to ensure that the distinction is intentional, and not just
a copy/paste error.</p>
<p>If there do exist different biological samples that happen to have the exact same name, this warning can be safely
ignored.  If they are the same biological sample, the <code>Sample Name</code> column in the <code>Peak Annotation Details</code> sheet
must be updated.  You may also need to delete or update the associated row in the <code>Samples</code> sheet, if no other
verified rows in the <code>Peak Annotation Details</code> sheet refers to it.</p>
<h3 id="prohibitedcompoundname-prohibitedcompoundnames"><code>ProhibitedCompoundName</code> (<code>ProhibitedCompoundNames</code>)</h3>
<p>The compound name or synonym contains disallowed characters that were replaced with similar allowed characters.</p>
<p>This exception is always raised as a warning.</p>
<p>Disallowed characters are either compound name/synonym delimiters or Peak Group name delimiters that are used during
loading.</p>
<p>While the offending characters are automatically replaced, you may elect to use an alternate character.  If you go
with the automatic replacement, nothing further needs to be done, but if you edit the values in the Study Doc, but
be sure to make the edit everywhere, including the <code>Compounds</code> sheet, the <code>Tracers</code>/<code>Infusates</code> sheet (and in the
<code>Infusate</code> column in the <code>Animals</code> sheet), the <code>Peak Group Conflicts</code> sheet.  Also, all peak annotation files will need
to be updated as well.</p>
<h3 id="recorddoesnotexist"><code>RecordDoesNotExist</code></h3>
<p>The expected record from the indicated database model was not found.</p>
<h3 id="replacingpeakgrouprepresentation"><code>ReplacingPeakGroupRepresentation</code></h3>
<p>A previously loaded peak group from a previous submission (for a measured compound was picked multiple times and
abundance corrected for 1 or more samples) will be replaced with a new representation from a new peak annotation
file that includes this compound for the same 1 or more samples.</p>
<p>Refer to the documentation of the <code>MultiplePeakGroupRepresentation</code> exception for an explanation of multiple peak
group representations and TraceBase’s requirements related to them.</p>
<p>This exception is always raised as a warning, to be transparent about the replacement of previously loaded Peak
Group records.  By selecting the new peak annotation file as the peak group representation to load in the
<code>Peak Group Conflicts</code> sheet, this warning informs you that an old previously loaded peak group will be deleted.</p>
<p>This exception is expected when a selection has been made that supercedes a selection made in a previous load
relating to the same samples and compound.</p>
<h3 id="requiredcolumnvalue-requiredcolumnvalues"><code>RequiredColumnValue</code> (<code>RequiredColumnValues</code>)</h3>
<p>A value, required to exist in the input table, was not supplied.</p>
<h3 id="requiredheaderserror"><code>RequiredHeadersError</code></h3>
<p>Supplies a list of missing required column headers in the input file.</p>
<h3 id="requiredvalueerror-requiredvalueerrors"><code>RequiredValueError</code> (<code>RequiredValueErrors</code>)</h3>
<p>A value, required to exist in the database, was found to be missing.</p>
<p>Each sheet in an excel file is loaded independently and the loads proceed in the order of those dependencies.</p>
<p>Errors like this usually only happen when related dependent data failed to load (due to some other error) and is
evidenced by the fact that the indicated columns/rows have values.  Fixing errors that appear above this will fix
this error.</p>
<p>For example, an Animal record must be loaded and exist in the database before a Sample record (which links to an
Animal record) can be loaded.  If the loading of the Animal record encountered an error, anytime a Sample record
that links to that animal is loaded, this error will occur.</p>
<p>The loading code tries to avoid these “redundant” errors, but it also tries to gather as many errors as possible to
reduce repeated validate/edit iterations.</p>
<h3 id="synonymexistsasmismatchedcompound"><code>SynonymExistsAsMismatchedCompound</code></h3>
<p>A compound row was added to the Compounds sheet whose synonym exists as a primary name of another compound.</p>
<p>This exception can arise automatically in the downloaded study doc template all on its own.  TraceBase tries to add rows
in the Compounds sheet for both compounds that already exist in TraceBase and novel compounds that do not yet exist in
TraceBase.  However, the compound name and formula must both match.  When they do not match, a new row for a novel
compound is added to the sheet, whether or not it creates a conflict.  Such a conflict can arise due to the formula
(derived from the peak annotation file) representing the ionized state of the compound, e.g. with 1 less or 1 more
proton (H).</p>
<p>A researcher can also cause this exception if they were to assign an HMDB ID that is already assigned to another
compound existing in TraceBase.  This can often happen after fixing the issue described above caused by an ionized
formula, because TraceBase did not pre-fill the existing compound due to the formula difference.</p>
<p>Lastly, this issue can arise if the conflicting compound record simply has a synonym associated with a compound record
that is just wrong.</p>
<p>To resolve this issue, either merge the compound records (editing them to fix the formula) or remove the synonym from
the differing compound record so that peak groups (and tracers) are associated with the other compound record.</p>
<p>If the compound from the peak annotation file(s) differs from the existing TraceBase compound record (e.g. different
formula or HMDB ID), and the new record represents a distinctly different compound, reach out to the curators.  The
existing compound name may already be associated with a different compound in other studies, so either changes would
need to be made to those other studies or the new study would need to be edited to distinguish the different compounds.
Either way, a curator will need to coordinate the fix to ensure database-wide consistency.</p>
<h3 id="tracercompoundnameinconsistent"><code>TracerCompoundNameInconsistent</code></h3>
<p>The compound name used in the tracer name is not the primary compound name.</p>
<p>TraceBase requires that tracer names use the primary compound name so that searches yield complete and consistent
results.  It automatically changes the tracer name to use the primary compound and raises this exception as a
warning, to be transparent about the modification of the user-entered compound name.</p>
<p>If the established primary compound name is problematic, reach out to a TraceBase curator to propose a change of a
compound’s primary name.  Note that such a change will affect all studies that use this tracer (if any).</p>
<h3 id="tracergroupsinconsistent"><code>TracerGroupsInconsistent</code></h3>
<p>An infusate is either a duplicate or exists with a conflicting tracer group name.</p>
<p>A duplicate infusate can trigger this exception due to concentration value precision.  In other words, it’s not
technically a true duplicate, but is treated as such due to the fact that concentration values may exceed a
precision threshold.  Excel and the underlying Postgres database have slightly different levels of precision.
TraceBase saves what you enter, but when it is entered into the database, the precision may change and end up
matching another record.  It’s also important to note that while TraceBase saves the value you enter, it searches
for infusates using significant figures, which can also lead to a duplicate exception.  See the tracer column
headers in the <code>Infusates</code> sheet in the Study Doc for details of what significant figures are used.</p>
<p>The resolution in the duplicate case is to use existing records whose concentration values insignificantly differ.</p>
<p>The other reason this exception may be raised could be due to nomenclature control over the <code>Tracer Group Name</code>,
which must be the same across all infusates that that include the same tracer compounds, regardless of concentration
and isotopic inclusion.</p>
<p>If the tracer group name differs, you must use the pre-existing group name already in TraceBase.  If the group name
is problematic, reach out to a TraceBase curator to fix it.</p>
<h3 id="tracerparsingerror"><code>TracerParsingError</code></h3>
<p>A regular expression or other parsing error was encountered when parsing a Tracer string.  The formatting or
completeness of the string must be manually fixed.  Consult formatting guidelines (check the file’s header
comment).</p>
<h3 id="unexpectedinput"><code>UnexpectedInput</code></h3>
<p>The value in the indicated column is optional, but is required to be supplied <strong>with</strong> another neighboring
column value, that was found to be absent.</p>
<p>This exception can be resolved either by supplying the neighboring column’s value or by removing this column’s
value.</p>
<p>Example:
If an infusion rate is supplied, but there was no infusate supplied, the infusion rate will cause an
UnexpectedInput exception, because an infusion rate without an infusate makes no sense.</p>
<h3 id="unexpectedlabel-unexpectedlabels-allunexpectedlabels"><code>UnexpectedLabel</code> (<code>UnexpectedLabels</code>, <code>AllUnexpectedLabels</code>)</h3>
<p>An isotope label, e.g. nitrogen (<code>N</code>) was detected in a measured compound, but that labeled element was not in
any of the tracers.  This is reported as a warning to suggest that there could be contamination or the wrong
infusate was selected for an animal, but this is often the result of naturally occurring isotopes and can be
ignored.</p>
<h3 id="unexpectedsamples"><code>UnexpectedSamples</code></h3>
<p>Sample headers found in a peak annotations file were not in the Study Doc’s <code>Peak Annotation Details</code> sheet.</p>
<p>This could either be due to a sample header omission in the <code>Peak Annotation Details</code> sheet or due to the wrong peak
annotation file being associated with one or more sample headers in the <code>Peak Annotation Details</code> sheet.</p>
<h3 id="unknownheader"><code>UnknownHeader</code></h3>
<p>A column header was encountered that is not a part of the file specification.</p>
<h3 id="unknownheaders"><code>UnknownHeaders</code></h3>
<p>A list of column headers encountered that are not a part of the file specification.</p>
<h3 id="unknownpeakannotationfileformat"><code>UnknownPeakAnnotationFileFormat</code></h3>
<p>The peak annotation file format is unrecognized.</p>
<p>This exception is raised as an error on the Upload <strong>Start</strong> page only.</p>
<p>To resolve this issue, select the format code using the dropdown menus in the <code>File Format</code> column of the
<code>Peak Annotation Files</code> sheet in the Study Doc that corresponds to the reported file.  If none of the supported
formats in the dropdown match the file format, reach out to the TraceBase team to request adding support for the new
format.  In the meantime, it is recommended that you use one of the supported natural abundance correction tools to
regenerate the file in a TraceBase-compatible format.</p>
<h3 id="unknownstudydocversion"><code>UnknownStudyDocVersion</code></h3>
<p>The study doc version could not be automatically determined.</p>
<p>This exception is accompanied by version determination metadata intended to highlight the supplied versus expected
sheet and column names.  Note however, that the only column names that will be reported as missing are required
columns.  Missing optional columns may be reported as “unknown”.</p>
<p>TraceBase is backward compatible with older versions of the Study Doc and the Upload <strong>Validate</strong> page automatically
detects the version based on sheet and column names.</p>
<p>This exception could arise if the sheet names and/or column names were modified.  Try generating a new study doc
from the Upload <strong>Start</strong> page and compare the sheet and column names to ensure they were not inadvertently altered.
If there are differences, fix them so that the version can be identified by the Upload <strong>Validate</strong> interface.</p>
<h3 id="unmatchedblankmzxml-unmatchedblankmzxmls"><code>UnmatchedBlankMzXML</code> (<code>UnmatchedBlankMzXMLs</code>)</h3>
<p>This exception is the same as <code>UnmatchedMzXML</code>, but is a warning because the files have “blank” in their sample
names and are assumed to have been intentionally excluded.</p>
<h3 id="unskippedblanks"><code>UnskippedBlanks</code></h3>
<p>A sample, slated for loading, appears to be a blank.  Loading of blank samples should be skipped.</p>
<p>Blank samples should be entirely excluded from the <code>Samples</code> sheet, but listed in the <code>Peak Annotation Details</code> sheet
with a non-empty value in the <code>Skip</code> column.  This tells the peak annotations loader that loads the peak annotations
file to ignore the sample column with this sample name.</p>
<p>Blank samples are automatically skipped in the Upload <strong>Start</strong> page’s Study Doc download, based on the sample name
containing “blank” in its name.</p>
<h2 id="about-this-document">About This Document</h2>
<p>This document is partially auto-generated using docstrings from the traceBase codebase.  The content under
<strong>Errors and Warnings (Exceptions) Reference</strong> is completely auto-generated, with minor edits.  Consult the
<code>TraceBaseDocs/README.md</code> file before making any updates.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../Download/About%20the%20Data/Data%20Types/PeakGroups/" class="btn btn-neutral float-left" title="PeakGroups"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../How%20to%20Name%20Your%20Studies%2C%20Animals%2C%20and%20Samples/" class="btn btn-neutral float-right" title="How to Name Your Studies, Animals, and Samples">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../Download/About%20the%20Data/Data%20Types/PeakGroups/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../How%20to%20Name%20Your%20Studies%2C%20Animals%2C%20and%20Samples/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
