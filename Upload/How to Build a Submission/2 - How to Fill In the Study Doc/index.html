<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="http://Princeton-LSI-ResearchComputing.github.io/tracebase/Upload/How%20to%20Build%20a%20Submission/2%20-%20How%20to%20Fill%20In%20the%20Study%20Doc/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>How to Fill In the Study Doc - TraceBase Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "How to Fill In the Study Doc";
        var mkdocs_page_input_path = "Upload/How to Build a Submission/2 - How to Fill In the Study Doc.md";
        var mkdocs_page_url = "/tracebase/Upload/How%20to%20Build%20a%20Submission/2%20-%20How%20to%20Fill%20In%20the%20Study%20Doc/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> TraceBase Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">TraceBase</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../About/How%20TraceBase%20Handles%20Data/">How TraceBase Handles Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../About/Navigating%20TraceBase/">Navigating TraceBase</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../About/Team/">Team</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../About/TraceBase%20Design/">TraceBase Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../About/Under%20the%20Hood/">Under the Hood</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Analysis</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Analysis/How%20to%20analyze%20data%20downloaded%20from%20TraceBase/">How do I analyze data downloaded from TraceBase?</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Download</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Download/How%20to%20Download/">How to Download</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">About the Data</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../Download/About%20the%20Data/Format%20of%20Downloaded%20Data/">Format of Downloaded Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Data Types</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../Download/About%20the%20Data/Data%20Types/FCirc/">FCirc</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../Download/About%20the%20Data/Data%20Types/PeakData/">PeakData</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../Download/About%20the%20Data/Data%20Types/PeakGroups/">PeakGroups</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Upload</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../Errors%20and%20Warnings%20Reference/">Errors and Warnings Reference</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../How%20to%20Name%20Your%20Studies%2C%20Animals%2C%20and%20Samples/">How to Name Your Studies, Animals, and Samples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../How%20to%20Upload%20Data%20to%20TraceBase/">How to Upload Data to TraceBase</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Uploading%20FAQ/">Uploading FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../What%20Inputs%20Does%20TraceBase%20Take/">What Inputs Does TraceBase Take</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">How to Build a Submission</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../1%20-%20How%20to%20Start%20an%20Upload/">How to Start an Upload</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">How to Fill In the Study Doc</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#general-tips">General Tips</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#study-doc-sheet-and-column-details">Study Doc Sheet and Column Details</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#study-sheet">Study Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#tracers-sheet">Tracers Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#infusates-sheet">Infusates Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#animals-sheet">Animals Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#samples-sheet">Samples Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#sequences-sheet">Sequences Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#peak-annotation-files-sheet">Peak Annotation Files Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#peak-annotation-details-sheet">Peak Annotation Details Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#peak-group-conflicts-sheet">Peak Group Conflicts Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#treatments-sheet">Treatments Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#tissues-sheet">Tissues Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#compounds-sheet">Compounds Sheet</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#lc-protocols-sheet">LC Protocols Sheet</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../3%20-%20How%20to%20Validate%20a%20Study%20Doc/">How to Validate a Study Doc</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../4%20-%20How%20to%20Submit%20Data/">How to Submit Data</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Values</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Calculated%20Values%20Glossary/">Calculated Values Glossary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Corrected%20Abundance/">Corrected Abundance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Enrichment%20Abundance/">Enrichment Abundance</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Enrichment%20Example/">Enrichment Example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Enrichment%20Fraction/">Enrichment Fraction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/FCirc%20Rates/">FCirc Rates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Fraction/">Fraction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Normalized%20Labeling/">Normalized Labeling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../Values/Total%20Abundance/">Total Abundance</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">TraceBase Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Upload</li>
          <li class="breadcrumb-item">How to Build a Submission</li>
      <li class="breadcrumb-item active">How to Fill In the Study Doc</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="how-to-fill-in-the-study-doc">How to Fill In the Study Doc</h1>
<!-- markdownlint-disable MD007 -->
<p>The Researcher uploading data supplies sample information into a submission template (a.k.a. the "Study Doc") to
describe the samples to be included in TraceBase.</p>
<p>Sample information in TraceBase is kept consistent with existing data in TraceBase.  This document describes in detail
where sample information should be stored and how it should be formatted.  It also describes what happens if you have
new sample information (i.e. new Diet, Compound, etc).</p>
<h2 id="general-tips">General Tips</h2>
<ul>
<li>
<p><strong>When in doubt, wing it</strong></p>
<p>If you are unsure of how to label something and the Study Doc's header comment seems ambiguous, enter whatever you
think fits, and leave it for the validation step to see if you get any errors.  If you get an error during
validation that still doesn't clarify what is needed, indicate what you are unsure about in the final google
submission form. A curator will check the data and help you work out what is needed.</p>
</li>
<li>
<p><strong>Fill in the sheets from left to right</strong></p>
<p>Each sheet can reference one or more other sheets, usually by the other sheet's first column.</p>
<p>Example: The <code>Samples</code> sheet's <code>Animal</code> column references the <code>Name</code> column of the <code>Animals</code> sheet.</p>
<p>Those referencing columns, unless they were automatically filled from the Start tab, will have drop-downs that are
populated by the contents of the referenced sheet, but those drop-downs will be empty if the referenced sheet has
not yet been filled in.  Thus, the order in which you fill in the sheets in the Study Doc affects how easy it is to
fill in other sheets.</p>
<p><em>**Pro Tip: The inter-sheet referencing columns allow each sheet to stand alone.  A study doc can contain any</em>
<em>subset of the contained sheets and still be loaded by itself, as long as the data it references in any other sheet</em>
<em>has been previously loaded.</em></p>
</li>
<li>
<p><strong>If you forgot a peak annotation file or made a mistake on the </strong>Start<strong> page, start over</strong></p>
<p>If during the process of filling in the Study Doc, you discover that you omitted a peak annotation file (e.g.
<em>AccuCor</em> file) or made a mistake in your original submission, it is recommended that you start over^ and upload all
peak annotations on the <strong>Start</strong> page together with the corrected information again.  If you had already spent time
filling in the study doc, carefully copy over data from the previous version.</p>
<p>This is recommended for 2 reasons.</p>
<ul>
<li>The <strong>Start</strong> page performs cross-peak annotation checks that the validation page does not do, the main one being
  checks for multiple representations of compounds in a sample.</li>
<li>Due to the auto-filled inter-sheet references, adding new samples and/or compounds will likely end up causing
  incomplete sheets that are laborious to fix manually.</li>
</ul>
<p>^ <em>There is a feature planned that will allow the <strong>Start</strong> page to <strong>update</strong> an existing Study Doc, but until</em>
<em>that is implemented, starting over is much less error-prone.</em></p>
</li>
<li>
<p><strong>Fill in blue, ignore gray, and pay attention to columns that affect FCirc Calculations</strong></p>
<p>Columns with blue headers are required.</p>
<p>Gray columns are controlled by Excel formulas.  Formulas usually only extend a few rows past the auto-filled rows,
so if you need more, use excel's fill-down feature.  The validation process on the next page does not preserve
formulas, so it can be helpful to keep the original <strong>Start</strong> page download to retrieve formulas.</p>
<p>While some columns are optional for loading, in order for TraceBase to display accurate FCirc Rates, make sure to
fill in the optional columns mentioned in <a href="../../../Values/FCirc%20Rates/">FCirc Rates</a> to ensure that the FCirc
calculations will be able to be completed.</p>
</li>
<li>
<p><strong>Don't fill in the mzXML column in the Peak Annotation Details sheet</strong></p>
<p><code>mzXML</code> filenames can be automatically matched to the sample headers in the peak annotation (e.g. <em>AccuCor</em>) files.
The loading code is even smart enough to handle filenames that were modified to add "pos", "neg", "scan1", "scan2",
etc - which are referred to as "scan labels".  This column is not automatically populated^ due to the frequent
presence of empty <code>mzXML</code> files and the impracticality of uploading those files for mapping, but the loading code
works this all out on the fly.  The only time you have to fill <code>mzXML</code> files in, is when the filenames differ from
the sample headers outside of the scan labels.</p>
<p>^ <em>There is a feature planned that will allow a user to drop an entire Study <strong>directory</strong> on the <strong>Start</strong> page to</em>
<em>map <strong>just</strong> the <code>mzXML</code> file <strong>names</strong> to the peak annotation file sample headers based on common parent</em>
<em>directories, and auto-fill the <code>mzXML</code> column in the <code>Peak Annotation Details</code> sheet.</em></p>
</li>
</ul>
<h2 id="study-doc-sheet-and-column-details">Study Doc Sheet and Column Details</h2>
<p>Unless your study includes some novel compounds, tissues, or protocols, or didn't use the Mass Spec fields on the Upload
<strong>Start</strong> page, you will likely only need to fill in the first 5 sheets (the first 3 of which should be pretty
lightweight).  Thus, the main focus of your efforts will be the <code>Animals</code> and <code>Samples</code> sheets.</p>
<h3 id="study-sheet">Study Sheet</h3>
<ul>
<li>
<p>Name</p>
<p>A name/identifier for an "experiment" or collection of animals.</p>
<p>This column is used to populate drop-downs in the Study column of the Animals sheet, so fill this sheet out before
filling out the Animals sheet.</p>
</li>
<li>
<p>Study Description</p>
<p>A long form description of the study.</p>
<p>Describe here, the experimental design, citations (if the data is published), or any other relevant information that
a researcher might need to consider when looking at the data from this study.</p>
</li>
</ul>
<h3 id="tracers-sheet">Tracers Sheet</h3>
<p><em>Note: Individual tracer definitions can be spread across multiple rows, depending on how many different kinds of</em>
<em>labeled elements they have.  The thing that links the rows together for a single tracer is the value in the
</em><code>Tracer Row Group</code> column._</p>
<p>The tracers sheet is pre-populated with extisting TraceBase tracer entries whose compounds match the compounds extracted
from your <code>peak annotation files</code>, but it is not uncommon for those tracers to not include the tracers in your study, so
you may need to enter them manually.  You may remove any tracer rows that are unrelated to your study, if you wish.  In
doing so, you do not need to ensure that the <code>Tracer Row Group</code>s are sequential, but if you remove a row, make sure to
remove every row with the same <code>Tracer Row Group</code>.</p>
<ul>
<li>
<p>Tracer Row Group</p>
<p>Arbitrary number that identifies every row containing a label that belongs to a tracer.  Each row defines 1 label
and this value links them together.</p>
<p>The values in this column are not loaded into the database.  It is only used to populate the Tracer Name column
using an excel formula.  All rows having the same <code>Tracer Row Group</code> are used to build the <code>Tracer Name</code> column
values.</p>
</li>
<li>
<p>Compound</p>
<p>Primary name of the compound for which this is a tracer.</p>
<p>The dropdown menus in this column are populated by the <code>Compound</code> column in the <code>Compounds</code> sheet.  If the compound
you need is not in the dropdown, go to the <code>Compounds</code> sheet to enter it, then come back to select it in this
column's automatically updated drop-down menu.</p>
</li>
<li>
<p>Mass Number</p>
<p>The sum of the number of protons and neutrons of the labeled atom, a.k.a.  'isotope', e.g. Carbon 14.  The number of
protons identifies the element that this tracer is an isotope of.  The number of neutrons in the element equals the
number of protons, but in an isotope, the number of neutrons will be less than or greater than the number of
protons.  Note, this differs from the 'atomic number' which indicates the number of protons only.</p>
</li>
<li>
<p>Element</p>
<p>The type of atom that is labeled in the tracer compound.</p>
<p>Select a 'Element' from the dropdowns in this column.  Valid values are: <code>C</code>, <code>N</code>, <code>H</code>, <code>O</code>, <code>S</code>, <code>P</code>.</p>
<p>For Deuterium, use <code>H</code> and ensure the <code>Mass Number</code> is accurate.</p>
</li>
<li>
<p>Label Count</p>
<p>The number of labeled atoms (M+) in the tracer compound supplied to this animal.  Note that the count must be
greater than or equal to the number of positions.</p>
</li>
<li>
<p>Label Positions</p>
<p>A comma-delimited string of integers indicating the labeled atom positions in the compound.  The number of known
labeled positions must be less than or equal to the <code>Label Count</code>.</p>
<p>The positions of Deuterium atoms are relative to the atoms they are covalently bonded to, (which means that the
position numbers can repeat when multiple deuterium atoms are bonded to the same Carbon).</p>
</li>
<li>
<p>Tracer Name</p>
<p>This is a read-only column that is populated by Excel formula, representing a unique name or lab identifier of the
tracer, e.g. <code>leucine-[13C6]</code>.</p>
<p>The values in this column are referenced by the <code>Tracer</code> column in the <code>Infusates</code> sheet.</p>
</li>
</ul>
<h3 id="infusates-sheet">Infusates Sheet</h3>
<p><em>Note: Individual infusate definitions can be spread across multiple rows, depending on how many different tracers an</em>
<em>infusate has.  The thing that links the rows together for a single tracer is the value in the <code>Infusate Row Group</code></em>
<em>column.</em></p>
<p>The infusates sheet is pre-populated with extisting TraceBase infusate entries whose compounds match the compounds
extracted from your <code>peak annotation files</code>, but it is not uncommon for those infusates to not include the infusates in
your study, so you may need to enter them manually.  You may remove any infusate rows that are unrelated to your study,
if you wish.  In doing so, you do not need to ensure that the <code>Infusate Row Group</code>s are sequential, but if you remove a
row, make sure to remove every row with the same <code>Infusate Row Group</code>.</p>
<ul>
<li>
<p>Infusate Row Group</p>
<p>Arbitrary number that identifies every row containing a tracer that belongs to a single infusate.  Each row defines
1 tracer (at a particular concentration) and this value links them together.</p>
<p>The values in this column are not loaded into the database.  It is only used to populate the <code>Infusate Name</code> column
using an excel formula.  All rows having the same <code>Infusate Row Group</code> are used to build the <code>Infusate Name</code> column
values.</p>
</li>
<li>
<p>Tracer Group Name</p>
<p>A short name or lab identifier of refering to a group of tracer compounds, e.g <code>6eaas</code>.  There may be multiple
infusate records with this group name, each referring to the same tracers at different concentrations.</p>
<p>You can select a <code>Tracer Group Name</code> from the dropdowns in this column, which contains existing values in TraceBase,
or enter a new value.</p>
</li>
<li>
<p>Tracer</p>
<p>Name of a tracer in this infusate at a specific Tracer Concentration.</p>
<p>Select a 'Tracer' from the dropdowns in this column.  The dropdowns are populated by the <code>Tracer Name</code> column in the
<code>Tracers</code> sheet, so if the dropdowns are empty, add rows to the <code>Tracers</code> sheet.</p>
</li>
<li>
<p><a name="conc"></a>Tracer Concentration</p>
<p>The millimolar (mM) concentration of the tracer in a specific infusate 'recipe'.</p>
</li>
<li>
<p>Infusate Name</p>
<p>This is a read-only column that is populated by Excel formula, representing a unique name or lab identifier of the
infusate 'recipe' containing 1 or more tracer compounds at specific concentrations.</p>
<p>While this column is automatically populated by excel formula, the following describes the formula output.</p>
<p>Individual tracer compounds will be formatted as: <code>compound_name-[weight element count,weight element count]</code></p>
<p>example: <code>valine-[13C5,15N1]</code></p>
<p>Mixtures of compounds will be formatted as: <code>tracer_group_name {tracer[conc]; tracer[conc]}</code></p>
<p>example: <code>BCAAs {isoleucine-[13C6,15N1][23.2];leucine-[13C6,15N1][100];valine-[13C5,15N1][0.9]}</code></p>
<p>Note that the concentrations in the name are limited to 3 significant figures, but the saved value is as entered.</p>
<p>The values in this column are referenced by the <code>Infusate</code> column in the <code>Animals</code> sheet.</p>
</li>
</ul>
<h3 id="animals-sheet">Animals Sheet</h3>
<ul>
<li>
<p>Animal Name</p>
<p>A unique identifier for the animal.  See recommendations for how to name an animal in
<a href="../../What%20Inputs%20Does%20TraceBase%20Take/#metadata_recommendations">Recommended Practices for Organizing Data</a>.</p>
</li>
<li>
<p>Age</p>
<p>Age in weeks when the infusion started</p>
</li>
<li>
<p>Sex</p>
<p>"male" or "female"</p>
</li>
<li>
<p>Genotype</p>
<p>Most specific genotype possible.  The column in the Animals sheet will have a drop-down containing the existing
options on TraceBase.  You can also consult the Animals page on TraceBase, where the Genotype column also contains a
select list with the current unique genotypes in TraceBase.  If necessary, indicate genotype as "unknown" (e.g. if
the animal is a mixed background wildtype).</p>
</li>
<li>
<p><a name="weight"></a>Weight</p>
<p>Weight in grams of the animal at the start time of infusion.</p>
</li>
<li>
<p>Infusate</p>
<p>The cells in this column are entered via drop-down and the content of the drop-down is populated using the Infusates
and (indirectly) Tracers sheets.  Consult the notes on those sheets for details on how to add new infusates/tracers.
Keep reading to understand the values in the dropdown.</p>
<p>The infusate values in this column are a formatted description of the infusion solution (a.k.a. cocktail) given to
an animal, including a shorthand name for the included tracers, an encoded tracer that includes the compound with a
description of its labels, and the Millimolar (mM) concentration of each tracer in the solution.</p>
<p>Consult the description of the <code>Infusate Name</code> column in the <code>Infusates</code> sheet documentation above for a format
description.</p>
</li>
<li>
<p><a name="infusionrate"></a>Infusion Rate</p>
<p>Volume of infusate solution infused (microliters (ul) per minute per gram of animal body weight).</p>
</li>
<li>
<p>Diet</p>
<p>Description of animal diet used.  Include the manufacturer identification and short description where possible.  The
column in the Animals sheet will have a drop-down containing the existing options on TraceBase.  You can also
consult the Animals page on TraceBase, where the Diet column also contains a select list with the current unique
diets in TraceBase.</p>
</li>
<li>
<p>Feeding Status</p>
<ul>
<li><code>fasted</code></li>
<li><code>fed</code></li>
<li><code>refed</code></li>
</ul>
<p>Indicate the length of fasting/feeding in the <code>Treatments</code> sheet's <code>Treatment Description</code> column or in the <code>Study</code>
sheet's <code>Description</code> column.</p>
</li>
<li>
<p>Treatment</p>
<p>A Short, unique identifier for animal treatment protocol.  Details are provided in the "Treatment Description" field
on the "Treatments" sheet.</p>
<p>Example: <code>T3 in drinking water</code></p>
<p>Default: <code>no treatment</code></p>
<p>Note that unique diets and feeding status are indicated elsewhere, and considered distinct from "animal treatments".</p>
</li>
<li>
<p>Study</p>
<p>The cells in this column are entered via drop-down and the content of the drop-down is populated using the <code>Name</code>
column of the <code>Study</code> sheet.</p>
<p>A name/identifier for the "experiment" that an animal belongs to.</p>
<p>If an animal belongs to multiple studies in this submission, manually enter them in one cell, delimited by
semicolons (<code>;</code>).  Every row in the Animals sheet should represent a unique animal.</p>
<p>See <a href="../../What%20Inputs%20Does%20TraceBase%20Take/#metadata_recommendations">Recommended Practices for Organizing Data</a></p>
</li>
</ul>
<h3 id="samples-sheet"><a name="samples"></a>Samples Sheet</h3>
<ul>
<li>
<p>Sample</p>
<p>Unique identifier for the biological sample.  Generally, the sample names should match the sample headers in the
AccuCor/IsoCor files, but often, such a sample header may differ from peak annotation file to peak annotation file,
due to modifications of the mzXML filename for uniqueness, or it indicate the scan's polarily or range.  TraceBase
removes these "scan labels" from the sample names when it automatically populates this column.  The original sample
header in each <code>peak annotation file</code> is preserved in the <code>Peak Annotation Details</code> sheet.</p>
<p>See <a href="../../What%20Inputs%20Does%20TraceBase%20Take/#metadata_recommendations">Recommended Practices for Organizing Data</a>
for suggestions on how to name samples</p>
</li>
<li>
<p>Date Collected</p>
<p>Date sample was collected (YYYY-MM-DD).</p>
</li>
<li>
<p>Researcher Name</p>
<p>FIRST LAST</p>
<p>Researcher primarily responsible for collection of this sample.</p>
<p>Secondary people (PI, collaborator, etc) should be mentioned in the study description.</p>
</li>
<li>
<p><a name="tissue"></a>Tissue</p>
<p>Type of tissue.  A tissue can be selected via drop-down menu.  If the desired tissue is not in the drop-down, enter
it in the <code>Tissues</code> sheet, then come back and select it in the automatically updated drop-down in this column.</p>
<p>The list of tissues in TraceBase can also be viewed on the TraceBase site's Tissues page.</p>
</li>
<li>
<p><a name="coltim"></a>Collection Time</p>
<p>Minutes after the start of the infusion when the tissue was collected.</p>
<p>Collection Time for samples collected before the infusion should be &lt;= 0.</p>
</li>
<li>
<p>Animal</p>
<p>The animal from which this sample was collected.  The animals is selected via drop-down menu.  If the desired animal
is not in the drop-down, enter it in the <code>Name</code> column of the <code>Animals</code> sheet, then come back and select it in the
automatically updated drop-down in this column.</p>
</li>
</ul>
<h3 id="sequences-sheet">Sequences Sheet</h3>
<ul>
<li>
<p>Sequence Name</p>
<p>This is a read-only column that is populated by Excel formula, representing a unique name for an MS Run Sequence.</p>
<p>Note that an MS Run Sequence is unique to a researcher, protocol, instrument (model), and date.  If a researcher
performs multiple such Mass Spec Runs on the same day, this single MS Run Sequence record will represent multiple
runs.</p>
<p>Comma-delimited string combining the values from these columns in this order:</p>
<ul>
<li><code>Operator</code></li>
<li><code>LC Protocol Name</code></li>
<li><code>Instrument</code></li>
<li><code>Date</code></li>
</ul>
<p>The values in this column are referenced by the 'Default Sequence' column in the 'Peak Annotation Files' sheet and
the <code>Sequence</code> column in the <code>Peak Annotation Details</code> sheet.</p>
<p>If you used all of the metadata fields on the Upload <strong>Start</strong> page, this column will have been automatically
populated.  If you edit any information in the columns controlled by the excel formula, this column will update,
<strong>unless</strong> the formulas were stripped by using the downloaded file from the Upload <strong>Validate</strong> page, in which case,
you may be able to copy a formula from the first enpty row and paste it into the stale valued cell.</p>
</li>
<li>
<p>Operator</p>
<p>FIRST LAST</p>
<p>Researcher who operated the Mass Spec instrument.  If you used the metadata fields on the Upload <strong>Start</strong> page,
this column will have been automatically populated.</p>
<p>Select an 'Operator' from the dropdowns in this column or enter a new researcher.  If the new researcher was also
the sample handler, ensure the names match.</p>
</li>
<li>
<p>LC Protocol Name</p>
<p>Unique laboratory-defined name of the liquid chromatography method.(e.g. polar- HILIC-25-min).  If you used the
metadata fields on the Upload <strong>Start</strong> page, this column will have been automatically populated.</p>
<p>Select an 'LC Protocol Name' from the dropdowns in this column.  The dropdowns are populated by the <code>Name</code> column in
the <code>LC Protocols</code> sheet, so if the dropdowns are empty, add rows to the <code>LC Protocols</code> sheet.</p>
</li>
<li>
<p>Instrument</p>
<p>The model name of the mass spectrometer.</p>
<p>Select an instrument from the dropdowns in this column.  Valid values are:</p>
<ul>
<li>QE</li>
<li>QE2</li>
<li>QEPlus</li>
<li>QEHF</li>
<li>Exploris240</li>
<li>Exploris480</li>
<li>ExplorisMX</li>
<li>unknown</li>
</ul>
<p>You may enter a new model, if necessary.</p>
</li>
<li>
<p><a name="rundate"></a>Date</p>
<p>The date that the mass spectrometer was run.</p>
<p>Format: <code>YYYY-MM-DD</code></p>
</li>
<li>
<p>Notes</p>
<p>Freeform notes on this mass spectrometer run sequence.</p>
</li>
</ul>
<h3 id="peak-annotation-files-sheet">Peak Annotation Files Sheet</h3>
<!-- Ignoring the terminology rule for "filename" -->
<!-- textlint-disable terminology -->
<ul>
<li>
<p>Peak Annotation File</p>
<p>Peak annotation file, e.g. AccuCor, IsoCorr, etc.</p>
<p>If the file will not be in the top level of the study directory, include a POSIX path (where the path delimiter is a
forward slash <code>/</code>) relative to the study directory.</p>
<p>The values in this column are referenced by the <code>Peak Annotation File Name</code> column in the <code>Peak Annotation Details</code>
sheet.</p>
</li>
<li>
<p>File Format</p>
<p>Peak annotation file format.  Default: automatically detected.</p>
<p>Select a format from the dropdowns in this column.  Valid values are:</p>
<ul>
<li><code>isocorr</code></li>
<li><code>accucor</code></li>
<li><code>isoautocorr</code></li>
<li><code>unicorr</code>^</li>
</ul>
<p>^ <em><code>unicorr</code> is an internal format that the common elements of the other formats are converted into for loading.</em>
<em>There is currently no way to save an excel file in this format, so please ignore this option.</em></p>
</li>
<li>
<p>Default Sequence</p>
<p>The default Sequence to use to associate peak groups with the file they were derived from, when loading a Peak
Annotation File.  This default can be overridden by values supplied in the <code>Peak Annotation File Name</code> column in the
<code>Peak Annotation Details</code> sheet.</p>
<p>Refer to the <code>Sequence Name</code> column in the <code>Sequences</code> sheet for format details.</p>
<p>Select a <code>Default Sequence</code> from the dropdowns in this column.  The dropdowns are populated by the <code>Sequence Name</code>
column in the <code>Sequences</code> sheet, so if the dropdowns are empty, add rows to the <code>Sequences</code> sheet.</p>
</li>
</ul>
<h3 id="peak-annotation-details-sheet"><a name="details"></a>Peak Annotation Details Sheet</h3>
<ul>
<li>
<p>Sample Name</p>
<p>A sample that was injected at least once during a mass spectrometer sequence.</p>
<p>Select a Sample Name from the dropdowns in this column.  The dropdowns are populated by the <code>Sample</code> column in the
<code>Samples</code> sheet, so if the dropdowns are empty, add rows to the <code>Samples</code> sheet.</p>
</li>
<li>
<p>Sample Data Header</p>
<p>Sample header from the Peak Annotation File.</p>
<p>Note, this column is only conditionally required with <code>mzXML File Name</code>.  I.e. one of these 2 columns is required.</p>
</li>
<li>
<p>mzXML File Name</p>
<p>A file representing a subset of data extracted from the raw file (e.g. an <code>mzXML</code> file).</p>
<p>Note, you can load any/all <code>mzXML File Name</code>s for a <code>Sample Name</code> <em>before</em> the Peak Annotation File is ready to
load, in which case you can just leave this value empty.</p>
<p>Note, this column is only conditionally required with <code>Sample Data Header</code>.  I.e. an <code>mzXML File Name</code> can be loaded
without a <code>Peak Annotation File Name</code> value.</p>
</li>
<li>
<p>Peak Annotation File Name</p>
<p>Name of the <code>peak annotation file</code>.  If the sample on any given row was included in a Peak Annotation File, add the
name of that file here.</p>
<p>Select a Peak Annotation File Name from the dropdowns in this column.  The dropdowns are populated by the
<code>Peak Annotation File</code> column in the <code>Peak Annotation Files</code> sheet, so if the dropdowns are empty, add rows to the
<code>Peak Annotation Files</code> sheet.</p>
</li>
<li>
<p>Sequence</p>
<p>The Sequence associated with the <code>Sample Name</code>, <code>Sample Data Header</code>, and/or <code>mzXML File Name</code> on this row.</p>
<p>Refer to the <code>Sequence Name</code> column in the <code>Sequences</code> sheet for format details.</p>
<p>Select a <code>Sequence</code> from the dropdowns in this column.  The dropdowns are populated by the <code>Sequence Name</code> column in
the <code>Sequences</code> sheet, so if the dropdowns are empty, add rows to the <code>Sequences</code> sheet.</p>
</li>
<li>
<p>Skip</p>
<p>Whether to load data associated with this sample, e.g. a blank sample.</p>
<p>Enter 'skip' to skip loading of the sample and peak annotation data.  The mzXML file will be saved if supplied, but
it will not be associated with an MSRunSample or MSRunSequence, since the Sample record will not be created.  Note
that the <code>Sample Name</code>, <code>Sample Data Header</code>, and <code>Sequence</code> columns must still have a unique combo value (for file
validation, even though they won't be used).</p>
<p>Boolean: <code>skip</code> or '' (i.e. empty).</p>
</li>
</ul>
<!-- textlint-enable terminology -->

<h3 id="peak-group-conflicts-sheet">Peak Group Conflicts Sheet</h3>
<p>This sheet is <em>hidden</em> unless peak group conflicts were detected when the Upload <strong>Start</strong> page generated the Study Doc
template.  TraceBase will accept only one peak group measurement for each compound in a given sample.  Sometimes a
compound can show up in multiple scans (e.g. in positive and negative mode scans).  If the same compound was picked for
the same sample in El Maven and used to generate multiple peak annotation files, the preferred peak annotation file to
represent that compound must be selected.  That's the purpose this sheet serves.</p>
<ul>
<li>
<p>Peak Group Conflict</p>
<p>Peak group name, composed of 1 or more compound synonyms, delimited by <code>/</code>, e.g.  <code>citrate/isocitrate</code>.  (Note,
synonym(s) may confer information about the compound that is not recorded in the compound record, such as a specific
stereoisomer.)</p>
<p>A peak group that exists in multiple peak annotation files containing common samples.  Only 1 peak group may
represent each compound per sample.  Note that different synonymns of the same compound are treated as qualitatively
different compounds (to support for example, stereo-isomers).</p>
<p>Note that the order and case of the compound synonyms could differ in each file.</p>
</li>
<li>
<p>Selected Peak Annotation File</p>
<p>TraceBase will accept only one peak group measurement for each compound in a given sample.  Sometimes a compound can
show up in multiple scans (e.g. in positive and negative mode scans).  You must select the file containing the best
representation of each compound.  Using the provided drop-downs, select the peak annotation file from which this
peak group should be loaded for the listed samples.  That compound in the remaining files will be skipped for those
samples.  Note, each drop-down contains only the peak annotation files containing the peak group compound for that
row.</p>
<p>The values in this column are referenced by the <code>Peak Annotation File</code> column in the <code>Peak Annotation Files</code> sheet.</p>
</li>
<li>
<p>Common Sample Count</p>
<p>The number of Common Samples among the files listed for the given peak group compound.</p>
</li>
<li>
<p>Example Samples</p>
<p>This column contains a sampling of the Common Samples between the files in the <code>Selected Peak Annotation File</code>
drop-down.</p>
<p>A string of sample names delimited by <code>;</code>.</p>
</li>
<li>
<p>Common Samples</p>
<p>This column contains a sorted list of sample names that multiple peak annotation files have in common, and each
measure the same peak group compound.</p>
<p>A string of sample names delimited by <code>;</code>.</p>
</li>
</ul>
<h3 id="treatments-sheet">Treatments Sheet</h3>
<ul>
<li>
<p>Animal Treatment</p>
<p>Short, unique identifier for animal treatment protocol.  Must match the same value in <code>Samples</code> sheet.</p>
</li>
<li>
<p>Treatment Description</p>
<p>A thorough description of an animal treatment protocol. This will be useful for searching and filtering, so use
standard terms and be as complete as possible.</p>
<p>Any difference in treatment should be indicated by a new <code>Animal Treatment</code>.</p>
<p>Example: different doses of drug</p>
<table>
<thead>
<tr>
<th><strong>Animal Treatment</strong></th>
<th><strong>Treatment Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>no treatment</td>
<td>No treatment was applied. Animal was housed at room temperature with a normal light cycle.</td>
</tr>
<tr>
<td>T3 in drinking water</td>
<td>T3 was provided in drinking water at 0.5 mg/L for two weeks prior to infusion.</td>
</tr>
<tr>
<td>T3 in drinking water (1.5 mg/L)</td>
<td>T3 was provided in drinking water at 1.5 mg/L for two weeks prior to infusion.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="tissues-sheet">Tissues Sheet</h3>
<ul>
<li>
<p>Tissue</p>
<p>Short identifier used by TraceBase.  Use the most specific identifier applicable to your samples.  If your data
contains a tissue not already listed here, create a new row.</p>
</li>
<li>
<p>Description</p>
<p>Long form description of TraceBase tissue.</p>
</li>
</ul>
<h3 id="compounds-sheet">Compounds Sheet</h3>
<p>Note that the Upload <strong>Start</strong> page will add the <code>Compound</code> and <code>Formula</code>, as extracted from the <code>peak annotation files</code>
if the compound name does not exist in TraceBase as either a primary compound name or synonym.  It will also add all^
complete compound records with matching formulas so that you can check if any novel compound name from the
<code>peak annotation files</code> should be a synonym of an existing compound._</p>
<p>^ <em>"<strong>all</strong>" existing compounds from TraceBase are added to the <code>Compounds</code> sheet, based on the <code>Formula</code> with one</em>
<em>caveat: The formulas in peak annotation files often represent the <strong>ionized</strong> version of the compound, in which case,</em>
<em>an existing compound in TraceBase may not be included in the <code>Compounds</code> sheet because its formula is not an exact</em>
<em>match.  In this case, after adding an <strong>HMDB ID</strong>, you will encounter a duplicate record error.  Unfortunately, the</em>
<em>only current way to resolve this is to consult the TraceBase site to copy over the record to the <code>Compounds</code> sheet.</em></p>
<ul>
<li>
<p>Compound</p>
<p>A unique compound name that is commonly used in the laboratory (e.g. <code>glucose</code>, <code>C16:0</code>, etc.).</p>
<p>The values in this column are referenced by the <code>Compound</code> column in the <code>Tracers</code> sheet.</p>
</li>
<li>
<p>HMDB ID</p>
<p>A unique identifier for this compound in the <a href="https://hmdb.ca/metabolites">Human Metabolome Database</a>.</p>
</li>
<li>
<p>Formula</p>
<p>The molecular formula of the compound (e.g. <code>C6H12O6</code>, <code>C16H32O2</code>, etc.).</p>
</li>
<li>
<p>Synonyms</p>
<p>A semicolon-delimited list of unique synonymous names for a compound that is commonly used within the laboratory.
(e.g.  <code>palmitic acid</code>, <code>hexadecanoic acid</code>, <code>C16</code>, and <code>palmitate</code> might also be synonyms for <code>C16:0</code>).</p>
</li>
</ul>
<h3 id="lc-protocols-sheet">LC Protocols Sheet</h3>
<ul>
<li>
<p>LC Protocol</p>
<p>This is a read-only column that is populated by Excel formula, representing a unique laboratory-defined name for a
liquid chromatography method that also indicates the run length.  E.g. <code>polar- HILIC-25-min</code></p>
<p>While this column is automatically populated by Excel formula, the following describes the formula output, if you
wish to manually enter it.</p>
<p>E.g. <code>'LC Protocol'-'Run Length'-min</code></p>
<p>The values in this column are referenced by the <code>Sequence Name</code> column in the <code>Sequences</code> sheet.</p>
</li>
<li>
<p>Run Length</p>
<p>Time duration to complete a sample run through the liquid chromatography method.</p>
<p>Units: <code>minutes</code>.
Example: <code>25</code></p>
<p>Select a <code>Run Length</code> from the dropdowns in this column or enter a new value.</p>
</li>
<li>
<p>Description</p>
<p>Unique full-text description of the liquid chromatography method.</p>
</li>
</ul>
<!-- markdownlint-enable MD007 -->
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../1%20-%20How%20to%20Start%20an%20Upload/" class="btn btn-neutral float-left" title="How to Start an Upload"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../3%20-%20How%20to%20Validate%20a%20Study%20Doc/" class="btn btn-neutral float-right" title="How to Validate a Study Doc">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../1%20-%20How%20to%20Start%20an%20Upload/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../3%20-%20How%20to%20Validate%20a%20Study%20Doc/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
